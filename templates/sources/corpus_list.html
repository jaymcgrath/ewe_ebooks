{% extends 'base.html' %}

{% block title %}
    Sources: All
{% endblock %}

{% block main_content %}
        <form action="/add_source/" method="post">
            {% csrf_token %}
            <div class="h6">
                Add a twitter source!
            </div>
            <div class="form-group">
                <div class="input-group input-group-sm">
                    <span class="input-group-addon" id="username1">@</span>
                    <input type="text" value="" name="twitter_username" class="form-control"
                           placeholder="username" aria-describedby="username1">
                </div>
                <input type="submit" value="submit" class="btn-info">
            </div>
        </form>
    <table class="table-striped table-responsive">
        <thead class="thead-default">
    <tr>
      <th class="text-xs-center">Source</th>
      <th class="text-xs-center">Author</th>
      <th class="text-xs-center">Description</th>
      <th class="text-xs-center">Appearances</th>
    </tr>
  </thead>
        {% for corpus in object_list %}
        <tr>
            <td>
                {% if corpus.image_url %}
                    <a href="/view_source/{{ corpus.id }}/">
                        <img src="{{ corpus.image_url }}">
                    </a>
                {% endif %}
            </td>
            <td>
                <a href="/view_source/{{ corpus.id }}/">
                    {{ corpus.author }}
                </a>
            </td>
            <td>
                {{ corpus.desc}}
            </td>
            <td>
                <span class="tag tag-pill tag-default">{{ corpus.mash_count }} uses</span>
            </td>
        </tr>
    {% endfor %}
    </table>
    {% if is_paginated %}
        <div class="pagenheimer pagination">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="/list_sources?page={{ page_obj.previous_page_number }}">
                        <i class="fa-2x" aria-hidden="true">← </i>
                    </a>
                {% endif %}
                <span class="page-current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                </span>
                {% if page_obj.has_next %}
                    <a href="/list_sources?page={{ page_obj.next_page_number }}">
                        <i class="fa-2x" aria-hidden="true"> →</i>
                    </a>
                {% endif %}
            </span>
        </div>
    {% endif %}
{% endblock %}